<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Texvc - MediaWiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
<meta name="generator" content="MediaWiki 1.23wmf14" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Texvc&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Texvc&amp;action=edit" />
<link rel="apple-touch-icon" href="//bits.wikimedia.org/apple-touch/mediawiki.png" />
<link rel="shortcut icon" href="//bits.wikimedia.org/favicon/mediawiki.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="MediaWiki (en)" />
<link rel="EditURI" type="application/rsd+xml" href="//www.mediawiki.org/w/api.php?action=rsd" />
<link rel="copyright" href="//creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="MediaWiki Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="canonical" href="http://www.mediawiki.org/wiki/Texvc" />
<link rel="stylesheet" href="//bits.wikimedia.org/www.mediawiki.org/load.php?debug=false&amp;lang=en&amp;modules=ext.gadget.Edittools%2CWmfProjectStatusHelper%2CcollapsibleTables%2Csite%7Cext.uls.nojs%7Cext.visualEditor.viewPageTarget.noscript%7Cext.wikihiero%7Cmediawiki.legacy.commonPrint%2Cshared%7Cskins.common.interface%7Cskins.vector.styles&amp;only=styles&amp;skin=vector&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: mediawikiwiki:resourceloader:filter:minify-css:7:7bd1359907426500f5c6b3d58173fbf3 */</style>

<script src="//bits.wikimedia.org/www.mediawiki.org/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Texvc","wgTitle":"Texvc","wgCurRevisionId":849513,"wgRevisionId":849513,"wgArticleId":20326,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["TeX","Math extensions"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Texvc","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"hidesig":true,"templateEditor":false,"templates":false,"preview":false,"previewDialog":false,"publish":false,"toc":false},"wgBetaFeaturesFeatures":[],"wgVisualEditor":{"isPageWatched":false,"magnifyClipIconURL":"//bits.wikimedia.org/static-1.23wmf14/skins/common/images/magnify-clip.png","pageLanguageCode":"en","pageLanguageDir":"ltr","svgMaxSize":2048},"wikilove-recipient":"","wikilove-anon":0,"wgGuidedTourHelpGuiderUrl":"Help:Guided tours/guider","wgULSAcceptLanguageList":["pl-pl","pl","en-us","en"],"wgULSCurrentAutonym":"English","wgFlaggedRevsParams":{"tags":{"accuracy":{"levels":2,"quality":2,"pristine":4}}},"wgStableRevisionId":null,"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","Geo":{"city":"","country":""},"wgNoticeProject":"wikimedia"});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":0,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"showhiddencats":false,"shownumberswatching":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":4,"underline":2,"uselivepreview":0,"usenewrc":0,"vector-simplesearch":1,"watchcreations":1,"watchdefault":0,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,
"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"useeditwarning":1,"prefershttps":1,"flaggedrevssimpleui":1,"flaggedrevsstable":0,"flaggedrevseditdiffs":true,"flaggedrevsviewdiffs":false,"usebetatoolbar":1,"usebetatoolbar-cgd":1,"lqtnotifytalk":false,"lqtdisplaydepth":5,"lqtdisplaycount":25,"lqtcustomsignatures":true,"lqt-watch-threads":true,"visualeditor-enable":1,"visualeditor-enable-experimental":1,"visualeditor-enable-mwmath":0,"visualeditor-betatempdisable":0,"wikilove-enabled":1,"translate":0,"translate-editlangs":"default","translate-recent-groups":"","translate-sandbox":"","translationnotifications-lang-1":"","translationnotifications-lang-2":"","translationnotifications-lang-3":"","echo-notify-show-link":true,"echo-show-alert":true,"echo-email-frequency":0,"echo-email-format":"html","echo-subscriptions-email-system":true,"echo-subscriptions-web-system":true,"echo-subscriptions-email-other":false,"echo-subscriptions-web-other":true,
"echo-subscriptions-email-edit-user-talk":false,"echo-subscriptions-web-edit-user-talk":true,"echo-subscriptions-email-reverted":false,"echo-subscriptions-web-reverted":true,"echo-subscriptions-email-article-linked":false,"echo-subscriptions-web-article-linked":false,"echo-subscriptions-email-mention":false,"echo-subscriptions-web-mention":true,"echo-subscriptions-web-edit-thank":true,"echo-subscriptions-email-edit-thank":false,"echo-subscriptions-web-flow-discussion":true,"echo-subscriptions-email-flow-discussion":false,"uls-preferences":"","language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":true,"searchNs13":false,"searchNs14":
false,"searchNs15":false,"searchNs90":false,"searchNs91":false,"searchNs92":false,"searchNs93":false,"searchNs100":true,"searchNs101":false,"searchNs102":true,"searchNs103":false,"searchNs104":false,"searchNs105":false,"searchNs106":false,"searchNs107":false,"searchNs828":false,"searchNs829":false,"searchNs1198":false,"searchNs1199":false,"searchNs2500":false,"searchNs2501":false,"gadget-site":1,"gadget-collapsibleTables":1,"gadget-Edittools":1,"gadget-WmfProjectStatusHelper":1,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});},{},{});
/* cache key: mediawikiwiki:resourceloader:filter:minify-js:7:79b099562621e47c1cc6faff7c515c26 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax","ext.gadget.site","ext.centralauth.centralautologin","ext.visualEditor.viewPageTarget.init","ext.uls.init","ext.uls.interface","ext.centralNotice.bannerController","skins.vector.js"]);
}</script>
<script src="//bits.wikimedia.org/geoiplookup"></script><link rel="dns-prefetch" href="//meta.wikimedia.org" /><!--[if lt IE 7]><style type="text/css">body{behavior:url("/w/static-1.23wmf14/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Texvc skin-vector action-view vector-animateLayout">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<div id="siteNotice"><!-- CentralNotice --><script>document.write("\u003Cdiv id=\"localNotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cp\u003E\u003C/p\u003E\n\u003C/div\u003E");</script></div>
						<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Texvc</span></h1>
			<div id="bodyContent">
								<div id="siteSub">From MediaWiki.org</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-navigation">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><b>texvc</b> is one of many external programs that are necessary for the typing of formulas in mediawiki. This program is mentioned in the manual of the installation of mediawiki, see <a href="/wiki/Manual:Enable_TeX" title="Manual:Enable TeX">Manual:Enable TeX</a>.</p>
<p>texvc is a shortened version of <b>TeX validator and converter</b>. It validates <a href="//en.wikipedia.org/wiki/AMS-LaTeX" class="extiw" title="w:AMS-LaTeX">AMS-LaTeX</a> <a href="//en.wikipedia.org/wiki/mathematical_expressions" class="extiw" title="w:mathematical expressions">mathematical expressions</a> and converts them to <a href="//en.wikipedia.org/wiki/HTML" class="extiw" title="w:HTML">HTML</a>, <a href="//en.wikipedia.org/wiki/MathML" class="extiw" title="w:MathML">MathML</a>, or <a href="//en.wikipedia.org/wiki/Portable_Network_Graphics" class="extiw" title="w:Portable Network Graphics">PNG</a> graphics. It was written by <a href="//en.wikipedia.org/wiki/User:Taw" class="extiw" title="w:User:Taw">Tomasz Wegrzanowski</a> and integrated into <a href="/wiki/MediaWiki" title="MediaWiki">MediaWiki</a>. The MediaWiki functionality that used this external program was moved to <a href="/wiki/Extension:Math" title="Extension:Math">Extension:Math</a> in <a href="/wiki/MediaWiki_1.18" title="MediaWiki 1.18">MediaWiki 1.18</a>.</p>
<p>When <a href="/wiki/Extension:Math" title="Extension:Math">Extension:Math</a> is installed, texvc is located at</p>
<pre>
<img class="tex" alt="{\mathcal  W}" src="//upload.wikimedia.org/math/7/9/5/7956162244985ed51394d07bb7259c17.png" />/extensions/Math/math/texvc
</pre>
<p>where <img class="tex" alt="{\mathcal  W}" src="//upload.wikimedia.org/math/7/9/5/7956162244985ed51394d07bb7259c17.png" /> denotes the directory where mediawiki was installed. texvc in its turn requires three additional programs, <a href="//en.wikipedia.org/wiki/Objective_caml" class="extiw" title="wikipedia:Objective caml">ocaml</a>, <a href="//en.wikipedia.org/wiki/LaTeX" class="extiw" title="wikipedia:LaTeX">LaTeX</a> and <a href="//en.wikipedia.org/wiki/dvipng" class="extiw" title="wikipedia:dvipng">dvipng</a>. These three programs do not come with the distribution of mediawiki. These programs should be downloaded manually and installed under the special (not default!) names, specific for each server. In particular, if one already has <a href="//en.wikipedia.org/wiki/LaTeX" class="extiw" title="wikipedia:LaTeX">LaTeX</a> installed under any other place, then, by default, it will not be used and the wiki-format of the formulas will not be supported. The process of this installation of texvc, <a href="//en.wikipedia.org/wiki/Objective_caml" class="extiw" title="wikipedia:Objective caml">ocaml</a>, <a href="//en.wikipedia.org/wiki/LaTeX" class="extiw" title="wikipedia:LaTeX">LaTeX</a> and <a href="//en.wikipedia.org/wiki/dvipng" class="extiw" title="wikipedia:dvipng">dvipng</a> is described in the special text file <img class="tex" alt="{\mathcal  W}" src="//upload.wikimedia.org/math/7/9/5/7956162244985ed51394d07bb7259c17.png" />/math/README&#160;; that file already has the wiki-format, and it is copypasted below:</p>
<p></p>
<div id="toc" class="toc">
<div id="toctitle">
<h2>Contents</h2>
</div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#About_texvc"><span class="tocnumber">1</span> <span class="toctext">About texvc</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Setup"><span class="tocnumber">2</span> <span class="toctext">Setup</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Requirements"><span class="tocnumber">2.1</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Installation"><span class="tocnumber">2.2</span> <span class="toctext">Installation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Command-line_parameters"><span class="tocnumber">3.1</span> <span class="toctext">Command-line parameters</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#LaTeX_syntax"><span class="tocnumber">3.2</span> <span class="toctext">LaTeX syntax</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Output_modes"><span class="tocnumber">3.3</span> <span class="toctext">Output modes</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Output_format"><span class="tocnumber">3.4</span> <span class="toctext">Output format</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#Troubleshooting"><span class="tocnumber">4</span> <span class="toctext">Troubleshooting</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Hacking"><span class="tocnumber">5</span> <span class="toctext">Hacking</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Adding_support_for_commutative_diagrams"><span class="tocnumber">5.1</span> <span class="toctext">Adding support for commutative diagrams</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#end_of_file_README"><span class="tocnumber">6</span> <span class="toctext">end of file README</span></a></li>
</ul>
</div>
<p></p>
<h2><span class="mw-headline" id="About_texvc">About texvc</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=1" title="Edit section: About texvc" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=1" title="Edit section: About texvc">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>texvc takes LaTeX-compatible equations and produces formatted output in HTML, MathML, and (via LaTeX/dvipng) rasterized PNG images. Input data is parsed and scrutinized for safety, and the output includes an estimate of whether the code is simple enough that HTML rendering will look acceptable.</p>
<p>The program was written by Tomasz Wegrzanowski for use with MediaWiki; it's included as part of the <a href="/wiki/MediaWiki" title="MediaWiki">MediaWiki</a> package and is under the GPL license.</p>
<p>Please report bugs at <a class="external text" href="https://bugzilla.wikimedia.org/enter_bug.cgi?product=MediaWiki%20extensions&amp;component=Math+%28texvc%29">Bugzilla with "MediaWiki extensions" as product and "Math (texvc)" as component</a>.</p>
<h2><span class="mw-headline" id="Setup">Setup</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=2" title="Edit section: Setup" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=2" title="Edit section: Setup">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Requirements">Requirements</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=3" title="Edit section: Requirements" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=3" title="Edit section: Requirements">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>OCaml 3.06 or later is required to compile texvc; this can be acquired from <a rel="nofollow" class="external free" href="http://caml.inria.fr/">http://caml.inria.fr/</a> if your system doesn't have it available.</p>
<p>The makefile requires GNU make.</p>
<p>Rasterization is done via LaTeX, dvipng. These need to be installed and in the PATH: latex, dvipng</p>
<p>AMS* packages for LaTeX also need to be installed. Without AMS* some equations will render correctly while others won't render. Most distributions of TeX already contain AMS*. In Debian/Ubuntu you need to install tetex-extra.</p>
<p>To work properly with rendering non-ASCII Unicode characters, a supplemental TeX package is needed (cjk-latex in Debian)</p>
<h3><span class="mw-headline" id="Installation">Installation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=4" title="Edit section: Installation" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=4" title="Edit section: Installation">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In Ubuntu, texvc can be installed by typing</p>
<dl>
<dd><code>sudo apt-get install mediawiki-math</code></dd>
</dl>
<p>From the terminal, change to the <code>"extensions/Math/math"</code> sub-directory of your MediaWiki install, and make sure the math directory is writable:</p>
<dl>
<dd><code>sudo chown your-username .</code></dd>
</dl>
<p><br />
Then, run <code>make</code> (or <code>gmake</code> if GNU make is not your default make). This should produce the texvc executable.</p>
<p>By default, MediaWiki will search in this directory for texvc; if you moved it elsewhere, you'll have to modify $wgTexvc and set it to the path of the texvc executable.</p>
<h2><span class="mw-headline" id="Usage">Usage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=5" title="Edit section: Usage" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=5" title="Edit section: Usage">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Normally texvc is called from MediaWiki's Math.php modules and everything Just Works. It can be run manually for testing or for use in another app.</p>
<h3><span class="mw-headline" id="Command-line_parameters">Command-line parameters</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=6" title="Edit section: Command-line parameters" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=6" title="Edit section: Command-line parameters">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>
   texvc &lt;temp directory&gt; &lt;output directory&gt; &lt;TeX code&gt; &lt;encoding&gt; &lt;color&gt;
</pre>
<p>Be sure to properly quote the TeX code!</p>
<p>Example:</p>
<pre>
   texvc /home/wiki/tmp /home/wiki/math "y=x+2" iso-8859-1 "rgb 1.0 1.0 1.0"
</pre>
<h3><span class="mw-headline" id="LaTeX_syntax">LaTeX syntax</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=7" title="Edit section: LaTeX syntax" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=7" title="Edit section: LaTeX syntax">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The syntax is documented at <a href="//meta.wikimedia.org/wiki/Help:Formula" class="extiw" title="m:Help:Formula">m:Help:Formula</a>.</p>
<p>In addition to standard AMS LaTeX, texvc interprets additional syntax such as <code>\codes</code> for HTML math character entities (for example, <code>&amp;Sigma;</code> → <code>\Sigma</code>) which have different names in LaTeX.</p>
<h3><span class="mw-headline" id="Output_modes">Output modes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=8" title="Edit section: Output modes" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=8" title="Edit section: Output modes">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The HTML-code generated by texvc may be in one of three modes:</p>
<ol>
<li>Conservative: the code should look good and work well in most browsers.</li>
<li>Moderate: the code should work and look good in reasonably modern browsers.</li>
<li>Liberal: the code is HTML, but it is designed for very recent browsers, such as newer versions of <a href="//en.wikipedia.org/wiki/Mozilla_Firefox" class="extiw" title="w:Mozilla Firefox">w:Mozilla Firefox</a>. While it should be legible, it might not look very good.</li>
</ol>
<h3><span class="mw-headline" id="Output_format">Output format</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=9" title="Edit section: Output format" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=9" title="Edit section: Output format">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Status codes and HTML/MathML transformations are returned on stdout. A rasterized PNG file will be written to the output directory, named for the MD5 hash code.</p>
<p>texvc output format is like this:</p>
<pre>
   +%5         ok, but not html or mathml
   c%5%h       ok, conservative html, no mathml
   m%5%h       ok, moderate html, no mathml
   l%5%h       ok, liberal html, no mathml
   C%5%h\0%m   ok, conservative html, with mathml
   M%5%h\0%m   ok, moderate html, with mathml
   L%5%h\0%m   ok, liberal html, with mathml
   X%5%m       ok, no html, with mathml
   S           syntax error
   E           lexing error
   F%s         unknown function %s
   -           other error
</pre>
<pre>
\0 - null character
%5 - md5, 32 hex characters
%h - html code, without \0 characters
%m - mathml code, without \0 characters
</pre>
<h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=10" title="Edit section: Troubleshooting" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=10" title="Edit section: Troubleshooting">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Unforunately, many error conditions with rasterization are not well reported. texvc will return as though everything is successful, and the only obvious sign of problems for the user is a big X on a wiki page where an equation should be.</p>
<p>Try running texvc from the command line to ensure that the software it relies upon is all set up.</p>
<p>Ensure that the temporary and math directories exist and can be written to by the user account the web server runs under; if you don't control the server, you may have to make them world-writable.</p>
<p>If some equations render correctly while others don't, you probably don't have AMS* packages for LaTeX installed. Most distributions of TeX come with AMS*. In Debian/Ubuntu AMS* is in tetex-extra package. To check if that is the problem you can try those two equations:</p>
<pre>
   x + y
   x \implies y
</pre>
<p>The first uses only standard LaTeX, while the second uses symbol \implies from AMS*. If the first renders, but the second doesn't, you need to install AMS*.</p>
<h2><span class="mw-headline" id="Hacking">Hacking</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=11" title="Edit section: Hacking" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=11" title="Edit section: Hacking">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Before you start hacking on the math package its good to know the workflow, which is basically:</p>
<ol>
<li>texvc gets called by extensions/Math/Math.body.php (check out the line begining with "$cmd")</li>
<li>texvc does its magic, which is basically to check for invalid latex code.</li>
<li>texvc takes the user input if valid and creates a latex file containing it, see get_preface in texutil.ml</li>
<li>dvipng(1) gets called to create a .png file. See render.ml for this process (commenting out the removal of the temporary file is useful for debugging).</li>
</ol>
<h3><span class="mw-headline" id="Adding_support_for_commutative_diagrams">Adding support for <a href="//en.wikipedia.org/wiki/en:Commutative_diagram" class="extiw" title="w:en:Commutative diagram">commutative diagrams</a></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=12" title="Edit section: Adding support for commutative diagrams" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=12" title="Edit section: Adding support for commutative diagrams">edit source</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>To be able to generate <a href="//en.wikipedia.org/wiki/en:Commutative_diagram" class="extiw" title="w:en:Commutative diagram">commutative diagrams</a> via the LaTeX package <a rel="nofollow" class="external text" href="http://tex.loria.fr/graph-pack/doc-xypic/xyguide-html/xyguide-html.html">xy-pic</a>, just modify the wrap_formula function in your math.php:</p>
<ul>
<li>your function <font color="green">$/includes/Math.php</font> before the change:</li>
</ul>
<pre>
   function wrap_formula($latex_formula) {
       $string  = "\documentclass{".$this-&gt;_latexclass."}\n";
       $string .= "\usepackage{amsmath}\n";
       $string .= "\usepackage{amsfonts}\n";
       $string .= "\usepackage{amssymb}\n";
       $string .= "\pagestyle{empty}\n";
       $string .= "\begin{document}\n";
       $string .= "$".$latex_formula."$\n";
       $string .= "\end{document}\n";
       return $string;
   }
</pre>
<ul>
<li>and afterwards:</li>
</ul>
<pre>
   function wrap_formula($latex_formula) {
       $string  = "\documentclass{".$this-&gt;_latexclass."}\n";
       $string .= "\usepackage{amsmath}\n";
       $string .= "\usepackage{amsfonts}\n";
       $string .= "\usepackage{amssymb}\n";
       $string .= "\pagestyle{empty}\n";
       $string .= "\input xy\n";
       $string .= "\xyoption{all}\n";
       $string .= "\begin{document}\n";
       $string .= "$".$latex_formula."$\n";
       $string .= "\end{document}\n";
       return $string;
   }
</pre>
<p>Formulas will still work normally as before, as xy-pic is enabled by the \xymatrix{} command. Try this for fun:</p>
<pre>
&lt;math&gt;\xymatrix{U \ar@/_/[ddr]_y \ar@/^/[drr]^x \ar@{.&gt;}[dr]|-{(x,y)}            \\
 &amp; X \times_Z Y \ar[d]^q \ar[r]_p &amp; X \ar[d]_f       \\
 &amp; Y \ar[r]^g   &amp; Z                }&lt;/math&gt;
</pre>
<h2><span class="mw-headline" id="end_of_file_README">end of file README</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Texvc&amp;veaction=edit&amp;section=13" title="Edit section: end of file README" class="mw-editsection-visualeditor">edit</a><span class="mw-editsection-divider"> | </span><a href="/w/index.php?title=Texvc&amp;action=edit&amp;section=13" title="Edit section: end of file README">edit source</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>also, that directory contains files <img class="tex" alt="{\mathcal  W}" src="//upload.wikimedia.org/math/7/9/5/7956162244985ed51394d07bb7259c17.png" />/extensions/Math/math/texvc_test.ml and <img class="tex" alt="{\mathcal  W}" src="//upload.wikimedia.org/math/7/9/5/7956162244985ed51394d07bb7259c17.png" />/extensions/Math/math/texvc_tex.ml that are also necesary.</p>
<p>The file texvc is not the only file required for the support of mathematical typing. There are many other files necessary; they are mentioned in the <a href="/wiki/Manual:Enable_TeX" title="Manual:Enable TeX">Manual:Enable TeX</a>.</p>
<p>The installing of the support of typing mathematics in mediawiki with texvc requires certain programming in a language, pretty different from that used to type the mediawiki documents. This process is not always successful; some problems seem to be not resolved at least for the beginning of year 2011.</p>


<!-- 
NewPP limit report
Parsed by mw1026
CPU time usage: 0.176 seconds
Real time usage: 4.385 seconds
Preprocessor visited node count: 96/1000000
Preprocessor generated node count: 184/1500000
Post‐expand include size: 0/2048000 bytes
Template argument size: 0/2048000 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/500
-->

<!-- Saved in parser cache with key mediawikiwiki:pcache:idhash:20326-0!*!0!!en!*!*!math=0 and timestamp 20140130200602
 -->
<noscript><img src="//www.mediawiki.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>								<div class="printfooter">
				Retrieved from "<a href="http://www.mediawiki.org/w/index.php?title=Texvc&amp;oldid=849513">http://www.mediawiki.org/w/index.php?title=Texvc&amp;oldid=849513</a>"				</div>
												<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="/wiki/Category:TeX" title="Category:TeX">TeX</a></li><li><a href="/wiki/Category:Math_extensions" title="Category:Math extensions">Math extensions</a></li></ul></div></div>												<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>
			<div id="mw-head">
				<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
	<h3 id="p-personal-label">Personal tools</h3>
	<ul>
<li id="pt-uls" class="active"><a href="#" class="uls-trigger autonym">English</a></li><li id="pt-createaccount"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Texvc&amp;type=signup">Create account</a></li><li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Texvc" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>	</ul>
</div>
				<div id="left-navigation">
					<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
	<h3 id="p-namespaces-label">Namespaces</h3>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="/wiki/Texvc"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk"><span><a href="/wiki/Talk:Texvc"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>
<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
	<h3 id="mw-vector-current-variant">
		</h3>
	<h3 id="p-variants-label"><span>Variants</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
				</div>
				<div id="right-navigation">
					<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
	<h3 id="p-views-label">Views</h3>
	<ul>
					<li id="ca-view" class="selected"><span><a href="/wiki/Texvc" >Read</a></span></li>
					<li id="ca-ve-edit"><span><a href="/w/index.php?title=Texvc&amp;veaction=edit"  title="Edit this page with VisualEditor [v]" accesskey="v">Edit</a></span></li>
					<li id="ca-edit"><span><a href="/w/index.php?title=Texvc&amp;action=edit"  title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit source</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="/w/index.php?title=Texvc&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
			</ul>
</div>
<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
	<h3 id="p-cactions-label"><span>Actions</span><a href="#"></a></h3>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>
<div id="p-search" role="search">
	<h3><label for="searchInput">Search</label></h3>
	<form action="/w/index.php" id="searchform">
					<div id="simpleSearch">
					<input type="search" name="search" placeholder="Search" title="Search MediaWiki [f]" accesskey="f" id="searchInput" /><input type="hidden" value="Special:Search" name="title" /><input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton" /><input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchButton" class="searchButton" />		</div>
	</form>
</div>
				</div>
			</div>
			<div id="mw-panel">
					<div id="p-logo" role="banner"><a style="background-image: url(//upload.wikimedia.org/wikipedia/mediawiki/b/bc/Wiki.png);" href="/wiki/MediaWiki"  title="Visit the main page"></a></div>
				<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
	<h3 id='p-navigation-label'>Navigation</h3>
	<div class="body">
		<ul>
			<li id="n-mainpage-description"><a href="/wiki/MediaWiki" title="Visit the main page [z]" accesskey="z">Main page</a></li>
			<li id="n-mw-download"><a href="/wiki/Download">Get MediaWiki</a></li>
			<li id="n-mw-extensions"><a href="/wiki/Category:Extensions">Get extensions</a></li>
			<li id="n-mw-communication"><a href="/wiki/Special:MyLanguage/Communication">Communication</a></li>
			<li id="n-blog-text"><a href="//blog.wikimedia.org/c/technology/">Tech blog</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-support' aria-labelledby='p-support-label'>
	<h3 id='p-support-label'>Support</h3>
	<div class="body">
		<ul>
			<li id="n-help"><a href="/wiki/Help:Contents" title="The place to find out">User help</a></li>
			<li id="n-mw-faq"><a href="/wiki/Manual:FAQ">FAQ</a></li>
			<li id="n-mw-manual"><a href="/wiki/Manual:Contents">Technical manual</a></li>
			<li id="n-mw-supportdesk"><a href="/wiki/Project:Support_desk">Support desk</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-development' aria-labelledby='p-development-label'>
	<h3 id='p-development-label'>Development</h3>
	<div class="body">
		<ul>
			<li id="n-mw-bugtracker"><a href="/wiki/Bugzilla">Bug tracker</a></li>
			<li id="n-mw-repo-browse"><a href="https://git.wikimedia.org/">Browse repository</a></li>
			<li id="n-mw-repo-codereview"><a href="https://gerrit.wikimedia.org/r/#/q/project:mediawiki/core+branch:master+status:open,n,z">Code review</a></li>
			<li id="n-phpdoc"><a href="//doc.wikimedia.org/mediawiki-core/master/php/html/">Code docs</a></li>
			<li id="n-svn-statistics"><a href="/wiki/Development_statistics">Statistics</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-MediaWiki.org' aria-labelledby='p-MediaWiki.org-label'>
	<h3 id='p-MediaWiki.org-label'>MediaWiki.org</h3>
	<div class="body">
		<ul>
			<li id="n-cat-browser"><a href="/wiki/Category:Top_level">Browse categories</a></li>
			<li id="n-portal"><a href="/wiki/Project:Help" title="About the project, what you can do, where to find things">Community portal</a></li>
			<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
			<li id="n-mw-discussion"><a href="/wiki/Project:Current_issues">Current issues</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-coll-print_export' aria-labelledby='p-coll-print_export-label'>
	<h3 id='p-coll-print_export-label'>Print/export</h3>
	<div class="body">
		<ul>
			<li id="coll-create_a_book"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Texvc">Create a book</a></li>
			<li id="coll-download-as-rl"><a href="/w/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=Texvc&amp;oldid=849513&amp;writer=rl">Download as PDF</a></li>
			<li id="t-print"><a href="/w/index.php?title=Texvc&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
		</ul>
	</div>
</div>
<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
	<h3 id='p-tb-label'>Tools</h3>
	<div class="body">
		<ul>
			<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Texvc" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
			<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Texvc" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
			<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
			<li id="t-permalink"><a href="/w/index.php?title=Texvc&amp;oldid=849513" title="Permanent link to this revision of the page">Permanent link</a></li>
			<li id="t-info"><a href="/w/index.php?title=Texvc&amp;action=info">Page information</a></li>
<li id="t-cite"><a href="/w/index.php?title=Special:Cite&amp;page=Texvc&amp;id=849513" title="Information on how to cite this page">Cite this page</a></li>		</ul>
	</div>
</div>
			</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 26 December 2013, at 09:11.</li>
											<li id="footer-info-copyright">Text is available under the <a href="https://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution/Share-Alike License</a>;
additional terms may apply.
See <a href="https://wikimediafoundation.org/wiki/Terms_of_Use">Terms of Use</a> for details.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="//wikimediafoundation.org/wiki/Privacy_policy" title="wikimedia:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/wiki/Project:About" title="Project:About">About MediaWiki.org</a></li>
											<li id="footer-places-disclaimer"><a href="/wiki/Project:General_disclaimer" title="Project:General disclaimer">Disclaimers</a></li>
											<li id="footer-places-developers"><a class="external" href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
											<li id="footer-places-mobileview"><a href="//m.mediawiki.org/wiki/Texvc" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="//wikimediafoundation.org/"><img src="//bits.wikimedia.org/images/wikimedia-button.png" width="88" height="31" alt="Wikimedia Foundation"/></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="//www.mediawiki.org/"><img src="//bits.wikimedia.org/static-1.23wmf14/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mobile.desktop","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest","ext.gadget.collapsibleTables","ext.gadget.Edittools","ext.gadget.WmfProjectStatusHelper","mw.MwEmbedSupport.style","ext.navigationTiming","schema.UniversalLanguageSelector","ext.uls.eventlogger","ext.uls.pt","skins.vector.collapsibleNav"],null,true);
}</script>
<script>if(window.mw){
mw.loader.state({"site":"ready"});
}</script>
<!-- Served by mw1109 in 0.205 secs. -->
	</body>
</html>
